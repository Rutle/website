// app/game.js

'use strict';

var hepburn = require("hepburn");

exports.choices = ["Hiragana", "Katakana", "Romaji"];

exports.syllabary  = [
	["a", "i", "u", "e", "o"],

	["ka","ki", "ku", "ke", "ko"],

	["ga", "gi", "gu", "ge", "go"],

	["sa", "shi", "su", "se", "so"],

	["za", "ji", "zu", "ze", "zo"],

	["ta", "chi", "tsu", "te", "to"],

	["da", "ji", "zu", "de", "do"],

	["na", "ni", "nu", "ne", "no"],

	["ha", "hi", "fu", "he", "ho"],

	["ba", "bi", "bu", "be", "bo"],

	["pa", "pi", "pu", "pe", "po"],

	["ma", "mi", "mu", "me", "mo"],

	["ya", "yu", "yo"],

	["ra", "ri", "ru", "re", "ro"],

	["wa", "wo", "n"]];

class Game {
	constructor(syllabary, hepburn) {
		this.syllabary = syllabary;
		this.hepburn = hepburn;
		this.correctA = 0;
	}
	// Getters
	get choiceSet() {
		return this.choiceSet;
	}
	get getSyllabary() {
		return this.syllabary;
	}
	// Methods
	//parameter syl1: Character used on website.
	//parameter syl2: Answer given by user.
	compareSyllabary (syl1, syl2) {
		if (this.hepburn.containsKana(syl1)) {
			var translatedSyl1 = this.hepburn.fromKana(syl1);
			if (translatedSyl1 === syl2) {
				return true;
			}
			return false;
		} else {
			var translatedSyl2 = this.hepburn.fromKana(syl2);
			if (translatedSyl2 === syl1) {
				return true;
			}
			return false;
		}
	}
	resetGame() {
		this.correctA = 0;
	}
	// Setters
	set setSyllabary(syllabary) {
		this.syllabary = syllabary;
	}
}

module.exports.Game = Game;
